import{w,r as M}from"./singletons.6989a244.js";import{y as S,b as p,z as v}from"./scheduler.bb964b1c.js";const I={message:"Missing Toast Message",autohide:!0,timeout:5e3},b="toastStore";function O(){const r=S(b);if(!r)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return r}function P(){const r=z();return p(b,r)}function _(){const r=Math.random();return Number(r).toString(32)}function z(){const{subscribe:r,set:u,update:s}=w([]),a=t=>s(e=>{if(e.length>0){const o=e.findIndex(i=>i.id===t),n=e[o];n&&(n.callback&&n.callback({id:t,status:"closed"}),n.timeoutId&&clearTimeout(n.timeoutId),e.splice(o,1))}return e});function c(t){if(t.autohide===!0)return setTimeout(()=>{a(t.id)},t.timeout)}return{subscribe:r,close:a,trigger:t=>{const e=_();return s(o=>{t&&t.callback&&t.callback({id:e,status:"queued"}),t.hideDismiss&&(t.autohide=!0);const n={...I,...t,id:e};return n.timeoutId=c(n),o.push(n),o}),e},freeze:t=>s(e=>(e.length>0&&clearTimeout(e[t].timeoutId),e)),unfreeze:t=>s(e=>(e.length>0&&(e[t].timeoutId=c(e[t])),e)),clear:()=>u([])}}const f={};function h(r){return r==="local"?localStorage:sessionStorage}function m(r,u,s){const a=(s==null?void 0:s.serializer)??JSON,c=(s==null?void 0:s.storage)??"local";function t(e,o){h(c).setItem(e,a.stringify(o))}if(!f[r]){const e=w(u,i=>{const d=h(c).getItem(r);d&&i(a.parse(d));{const g=l=>{l.key===r&&i(l.newValue?a.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:o,set:n}=e;f[r]={set(i){t(r,i),n(i)},update(i){const d=i(v(e));t(r,d),n(d)},subscribe:o}}return f[r]}m("modeOsPrefers",!1);m("modeUserPrefers",void 0);m("modeCurrent",!1);const T="(prefers-reduced-motion: reduce)";function E(){return window.matchMedia(T).matches}const R=M(E(),r=>{{const u=a=>{r(a.matches)},s=window.matchMedia(T);return s.addEventListener("change",u),()=>{s.removeEventListener("change",u)}}});export{O as g,P as i,R as p};
